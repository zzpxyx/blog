<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[zzpxyx]]></title><description><![CDATA[zzpxyx]]></description><link>www.zzpxyx.com</link><generator>metalsmith-feed</generator><lastBuildDate>Tue, 18 Aug 2020 22:24:19 GMT</lastBuildDate><atom:link href="rss.xml" rel="self" type="application/rss+xml"/><item><title><![CDATA[Compile AppleScript for Performance]]></title><description><![CDATA[<p>Recently, I’ve found that com­pil­ing an AppleScript file may help with its per­for­mance.</p>
<p>I have this ar­guably weird work­flow on a Mac where I can press Command+2 and Command+3 to switch to spe­cific ap­pli­ca­tions. I did­n’t find any open source so­lu­tion for it, so I had to cre­ate some cus­tom AppleScripts and bind them to global hotkeys in Karabiner-Elements. The setup worked for me un­til I up­graded to ma­cOS Catalina, where the per­for­mance of the scripts was no­tice­ably de­graded. I had to wait for a few sec­onds be­fore the ap­pli­ca­tion switch­ing to the fore­ground.</p>
<p>I have to use the com­mand <code>osascript</code> to run my cus­tom AppleScript when the des­ig­nated hotkey is trig­gered. I was read­ing its man­ual for some in­spi­ra­tions, and I ac­tu­ally found one at the bot­tom of the man page: <code>osacompile</code>, which can com­pile AppleScripts. I gave it a try us­ing <code>osacompile -x</code> which is said to save the re­sult­ing script as ex­e­cute only.  It did­n’t let me down. The ex­e­cu­tion per­for­mance of my script was im­proved dras­ti­cally.</p>
<p>This is not the end of the story though. I’ve no­ticed that al­though the per­for­mance is im­proved in gen­eral, it does­n’t elim­i­nate the prob­lem. Sometimes I still have to wait for a while for the script to fin­ish. My guess is that some­thing about AppleScript is changed in ma­cOS Catalina, like the script in­ter­pre­tor or the built-in script func­tions. Maybe some­thing about in­ter­cept­ing key­board in­puts is also changed so that Karabiner-Elements is slowed down.</p>
<p>That said, the gen­eral idea here may be help­ful in cer­tain cases. Maybe the next time when I’m deal­ing with scripts, I’ll re­mem­ber to check if there is a way to com­pile them.</p>
]]></description><link>posts/compile-applescript-for-performace</link><guid isPermaLink="true">posts/compile-applescript-for-performace</guid></item><item><title><![CDATA[Switching to Arch Linux TeX Live]]></title><description><![CDATA[<p>I’ve just switched my TeX Live dis­tri­b­u­tion from the of­fi­cial one to the one on the Arch Linux repos­i­tory.</p>
<p>I was just up­dat­ing the pack­ages rou­tinely on Arch Linux, and I no­ticed that Texmaker now re­quires <code>texlive-core</code>, which in turn re­quires <code>texlive-bin</code>. This was prob­lem­atic for me since I had al­ready in­stalled the of­fi­cial TeX Live dis­tri­b­u­tion. This not only took more disk space, but also broke the func­tion­al­ity. For ex­am­ple, I was no longer able to com­pile my re­sume. My guess was that the new in­stall some­how af­fected the TeX Live file tree and some style files were con­sid­ered miss­ing.</p>
<p>Up to this point, I had two op­tions. I could unin­stall Texmaker and its TeX Live de­pen­den­cies, then re­in­stall Texmaker from an­other source and use it with the ex­ist­ing of­fi­cial TeX Live dis­tri­b­u­tion on my ma­chine. Alternatively, I could unin­stall the of­fi­cial dis­tri­b­u­tion and switch to the Arch Linux pack­aged ver­sion of TeX Live. Either op­tion should work. I was just cu­ri­ous about the lat­ter op­tion, so I chose to give it a try. In ad­di­tion, I had al­ready changed my re­sume tem­plate to <a href="https://github.com/zzpxyx/two-column-resume">my cus­tom one</a> long time ago, and it no longer needed un­of­fi­cial fonts or stuff, so switch­ing to an­other TeX Live dis­tri­b­u­tion would only re­quire in­stalling miss­ing <span class="small-caps">CTAN</span> pack­ages.</p>
<p>First of all, I unin­stalled the of­fi­cial dis­tri­b­u­tion by:</p>
<pre><code class="hljs">tlmgr uninstall --all
</code></pre>
<p>There were some er­rors about write per­mis­sion, but I did some quick check and the er­rors seemed be­nign. Then I in­stalled <code>texlive-latexextra</code> for some com­monly used LaTeX pack­ages. After that, I tried to com­pile my re­sume and saw that some fonts were miss­ing as ex­pected. A quick search showed that I should in­stall <code>texlive-fontsextra</code>. It would take over 1 <span class="small-caps">GB</span> of disk space since it in­cluded tons of fonts. I’m not a fan of this, so I chose to use <a href="https://wiki.archlinux.org/index.php/TeX_Live#tllocalmgr">tl­lo­calmgr</a> to man­u­ally in­stall miss­ing <span class="small-caps">CTAN</span> pack­ages. After some trial and er­ror, I ended up with in­stalling these <span class="small-caps">CTAN</span> pack­ages: <code>raleway</code>, <code>mweights</code>, <code>droid</code>, <code>fontawesome</code>, and <code>ly1</code>. However, no <span class="small-caps">PDF</span> file was gen­er­ated at the end of com­pile, and Texmaker did­n’t re­port any ob­vi­ous er­ror. The log did show that some fonts were miss­ing. <code>tllocalmgr</code> men­tioned that I should check its log and mod­ify the <code>updmap.cfg</code> file as needed. After some trial and er­ror again, I found that I would need to add the font maps like be­low for the fonts men­tioned in the <code>tllocalmgr</code> log file.</p>
<pre><code class="hljs">updmap-sys --enable Map=Raleway.map
updmap-sys --enable Map=droidsans.map
updmap-sys --enable Map=droidsansmono.map
updmap-sys --enable Map=droidserif.map
updmap-sys --enable Map=fontawesome.map
</code></pre>
<p>I’m still a new­bie for TeX Live, so what I did here may not be the best prac­tice. After that, the com­pile worked and gen­er­ated a <span class="small-caps">PDF</span> file.</p>
<p>I used <a href="https://pypi.org/project/diff-pdf-visually/">diff-pdf-vi­su­ally</a> to com­pare the two <span class="small-caps">PDF</span> files from the two TeX Live dis­tri­b­u­tions, and the tool re­ported no vi­sual dif­fer­ence. I would take this as a sign of vic­tory. If I’m un­der­stand­ing it cor­rectly, I would no long need to up­grade TeX Live like <a href="../upgrading-tex-live">my pre­vi­ous post</a>.</p>
]]></description><link>posts/switching-to-arch-linux-tex-live</link><guid isPermaLink="true">posts/switching-to-arch-linux-tex-live</guid></item><item><title><![CDATA[Reviving an Old MP3 Player]]></title><description><![CDATA[<p>I’ve fi­nally had the chance to jot down my ad­ven­ture in re­viv­ing a very old <span class="small-caps">MP3</span> player.</p>
<p>The player is made by Philips. I think the model num­ber is some­thing like SA2SPK02S/93. It is al­most 10 years old, so by the time I tried to turn it on, noth­ing ap­peared on the screen. Not sur­prised at all.</p>
<p>Apparently the bat­tery is al­ready de­pleted and pos­si­bly over-dis­charged. It has a <span class="small-caps">USB</span> port for charg­ing, so I con­nected it to my desk­top ma­chine. It ap­peared to be charg­ing, and showed full bat­tery re­ally quickly. I dis­con­nected it and then tried to turn it on, but it went into a weird boot loop. It showed that the bat­tery was low, and then re­fused to do any­thing else. I also tried to charge it over a long pe­riod of time, but it did­n’t help.</p>
<p>I was about to give up be­fore I got cu­ri­ous about its man­age­ment soft­ware, Philips Songbird. Technically, this <span class="small-caps">MP3</span> player can func­tion very well on its own. I was just cu­ri­ous on what the man­age­ment soft­ware was for. After fight­ing with some com­pat­i­bil­ity is­sues, I fi­nally got the soft­ware run­ning, and there was a firmware up­date op­tion. No new firmware avail­able. Not sur­prised at all, ei­ther. However, I could re­in­stall the ex­ist­ing firmware. I im­me­di­ately gave it a try be­cause why not?</p>
<p>That turned out to be the cor­rect so­lu­tion. After re­in­stalling the firmware, my desk­top ma­chine rec­og­nized the de­vice, and charg­ing was back to nor­mal. Sometime later I gave the <span class="small-caps">MP3</span> player a spin, and it worked well. Nice.</p>
<p>My guess is that some­how the in­ter­nal bat­tery level checker, hard­ware or soft­ware, had some er­rors. The <span class="small-caps">MP3</span> player thought that it was fully charged, but ac­tu­ally only 2% or so. The boot process was dis­rupted due to low bat­tery, which caused all kinds of weird is­sues. Finally, re­in­stalling the firmware cal­i­brated the bat­ter level checker or some­thing, and made all prob­lems go away.</p>
<p>I ac­tu­ally did this quite a while ago. Now, at the time of writ­ing this post, the bat­tery of that <span class="small-caps">MP3</span> player is de­pleted again. Interestingly, this time every­thing works. The de­vice is rec­og­nized by my desk­top im­me­di­ately, and charg­ing seems fine. Maybe my guess above is not that bad.</p>
<p>To sum it up, re­in­stalling the firmware might be help­ful when deal­ing with a dead bat­tery. This prob­a­bly does­n’t work every time, but it’s worth a try.</p>
]]></description><link>posts/reviving-an-old-mp3-player</link><guid isPermaLink="true">posts/reviving-an-old-mp3-player</guid></item><item><title><![CDATA[YAML Schema for Organizing Data]]></title><description><![CDATA[<p>I have an idea about us­ing <span class="small-caps">YAML</span> Schema to or­ga­nize data.</p>
<p>I came to this idea the other day when I was asked whether I had a cer­tain vac­cine in the past. All of a sud­den, I wish I had or­ga­nized my per­sonal med­ical data in a struc­tured way so that I could eas­ily look it up. For eas­ier dis­cus­sion, let’s use per­sonal med­ical data as an ex­am­ple here.</p>
<p>First of all, I choose texts rather than data­base or any bi­nary for­mat be­cause I want it to be read­able and easy to main­tain. I also want it to be or­ga­nized, so I choose the <span class="small-caps">YAML</span> for­mat where it’s kind of both hu­man- and ma­chine-read­able, yet does­n’t re­quire a lot of skele­ton char­ac­ters like <span class="small-caps">JSON</span>. On top of that, I add <span class="small-caps">YAML</span> Schema so that the data <span class="small-caps">YAML</span> file can be val­i­dated. It’s also use­ful for auto-com­ple­tion in ed­i­tors that sup­ports it. <span class="small-caps">YAML</span> Schema is based on <span class="small-caps">JSON</span> Schema, which is still work in progress. <span class="small-caps">YAML</span> Schema is also writ­ten in <span class="small-caps">JSON</span> at this mo­ment.</p>
<p>Here is a snip­pet of <span class="small-caps">YAML</span> Schema that I use to or­ga­nize my im­mu­niza­tion his­tory:</p>
<pre><code class="hljs"><span class="hljs-string">"immunization"</span>: {
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Immunization history."</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
  <span class="hljs-attr">"items"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
      <span class="hljs-attr">"date"</span>: {
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Date of the immunization."</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
      },
      <span class="hljs-attr">"name"</span>: {
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Immunization name."</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
      }
    },
    <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"date"</span>, <span class="hljs-string">"name"</span>]
  },
  <span class="hljs-attr">"uniqueItems"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>Basically, I’m defin­ing an ar­ray named <code>immunization</code>. Each el­e­ment of the ar­ray is an ob­ject that has two prop­er­ties, <code>date</code> and <code>name</code>, which are both strings. I don’t think we have date-time type at the mo­ment, so I have to use strings for dates. I’m also de­clar­ing that the el­e­ments should be unique in the ar­ray.</p>
<p>With the above schema, I can add and val­i­date the fol­low­ing sec­tion in my data <span class="small-caps">YAML</span> file:</p>
<pre><code class="hljs"><span class="hljs-attr">immunization:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">date:</span> <span class="hljs-number">2019</span><span class="hljs-string">/12/13</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">some</span> <span class="hljs-string">vaccine</span> <span class="hljs-number">1</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">date:</span> <span class="hljs-number">2019</span><span class="hljs-string">/12/14</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">some</span> <span class="hljs-string">vaccine</span> <span class="hljs-number">2</span>
</code></pre>
<p>Similarly, I can add de­f­i­n­i­tions for surgery his­tory and other med­ical in­for­ma­tion. For com­plete syn­tax about <span class="small-caps">YAML</span> Schema and <span class="small-caps">JSON</span> Schema, see <a href="https://json-schema-everywhere.github.io/yaml">here</a>.</p>
<p>I’m us­ing <span class="small-caps">VS</span> Code with the <span class="small-caps">YAML</span> plu­gin. It takes a bit of time to con­fig­ure, but af­ter that, I get the auto-com­ple­tion when I’m edit­ing the data <span class="small-caps">YAML</span> file.</p>
<p>Finally, it’s worth point­ing out that al­though the ex­am­ple here is for per­sonal med­ical data, the idea of us­ing <span class="small-caps">YAML</span> Schema can be ap­plied to other struc­tured data as well.</p>
]]></description><link>posts/yaml-schema-for-organizing-data</link><guid isPermaLink="true">posts/yaml-schema-for-organizing-data</guid></item><item><title><![CDATA[Turn It Off and On Again]]></title><description><![CDATA[<p>Turning it off and on again can solve nu­mer­ous prob­lems. Here is an on-go­ing col­lec­tion of such is­sues.</p>
<h3><span class="small-caps">SDL2</span></h3>
<p><a href="/posts/sdl2-renderer-error/">As men­tioned pre­vi­ously</a>, <span class="small-caps">SDL2</span> may give some er­rors af­ter up­dat­ing the dis­play dri­ver with­out a re­boot.</p>
<h3><span class="small-caps">VPN</span></h3>
<p>Updating VPN-related pack­ages with­out a re­boot may give er­rors like:</p>
<pre><code class="hljs">mkdir: cannot create directory <span class="hljs-string">'/var/run/vpnc'</span>: Permission denied
</code></pre>
<p>Or</p>
<pre><code class="hljs">Failed to open tun device: No such device
</code></pre>
<h3>Monitor</h3>
<p>Recently, I’ve also en­coun­tered a weird is­sue on the <span class="small-caps">ASUS</span> <span class="small-caps">MX279H</span> mon­i­tor. It just turned on with a blank black screen, turned off im­me­di­ately, and then re­peated. I tried man­u­ally turn­ing it off and on with the touch power but­ton, but it did­n’t help. Finally, I had to un­plug the power cord and re-plug it again. This time the mon­i­tor went back to nor­mal.</p>
]]></description><link>posts/turn-it-off-and-on-again</link><guid isPermaLink="true">posts/turn-it-off-and-on-again</guid></item><item><title><![CDATA[Display Chinese in Pure Text Terminal]]></title><description><![CDATA[<p>Fbterm is the old tool I newly found for dis­play­ing Chinese char­ac­ters in pure text ter­mi­nal.</p>
<p>I had some dis­play dri­ver is­sues the other day and I could­n’t launch the graph­i­cal in­ter­face on my desk­top ma­chine. I had to work un­der the pure text ter­mi­nal. It does­n’t sup­port dou­ble width char­ac­ters like Chinese, which hap­pens to be my de­fault dis­play­ing lan­guage. As a re­sult, some com­mand out­puts just showed gib­ber­ish di­a­mond char­ac­ters. I had to change the lan­guage en­vi­ron­ment vari­able tem­porar­ily so that the out­put was switched to English. Out of cu­rios­ity, I started look­ing for a so­lu­tion for dis­play­ing Chinese char­ac­ters in pure text ter­mi­nal.</p>
<p>After some search­ing and test­ing, I fi­nally got <a href="https://code.google.com/archive/p/fbterm/">Fbterm</a>. It is also men­tioned in the <a href="https://wiki.archlinux.org/index.php/Fbterm">Arch Linux wiki</a>. Basically, it is an­other ter­mi­nal em­u­la­tor that<span class="push-double"></span> <span class="pull-double">“</span>supports dou­ble width scripts like Chinese, Japanese, etc”. Simply start it via the com­mand <code>fbterm</code> in the pure text ter­mi­nal, and Chinese char­ac­ters should dis­play cor­rectly. For me, this is enough, so I did­n’t try adding Chinese in­put meth­ods un­der Fbterm. I think it’s tech­ni­cally pos­si­ble.</p>
<p>Note one caveat though. The de­vel­op­ment for Fbterm has stopped a long time ago. I just use it oc­ca­sion­ally, and I’d say that it is still pretty good at its own job.</p>
<p><strong>Updates on 2020-08-18:</strong> Apparently, Fbterm has been re­moved from <span class="small-caps">AUR</span> and its wiki page is archived due to pack­age be­ing too old. Although I be­lieve one can still build it from the source, it’s time to find an al­ter­na­tive. <a href="https://aur.archlinux.org/packages/zhcon/">zh­con</a> is by far the best one I’ve found. It even has a built-in Chinese in­put method. Awesome. Its user in­ter­face re­minds me of the an­cient <span class="small-caps">UCDOS</span>. Those were the days.</p>
]]></description><link>posts/display-chinese-in-pure-text-terminal</link><guid isPermaLink="true">posts/display-chinese-in-pure-text-terminal</guid></item><item><title><![CDATA[npm Without Sudo]]></title><description><![CDATA[<p>Recently, I have to re­in­stall npm. It’s a good time to jot down how to in­stall npm lo­cally so that no sudo is re­quired when us­ing npm.</p>
<p>The whole story be­gins with this <a href="https://github.com/npm/npm/issues/19019">is­sue</a>. Basically, on my ma­chine, npm 5.5.1 crashes every time when I try to up­date or in­stall pack­ages for Node.js 9.2.0. The so­lu­tion is to unin­stall npm and re­in­stall it with a higher ver­sion like 5.6.0.</p>
<p>It’s de­bat­able whether npm should be in­stalled lo­cally in the user home di­rec­tory or at the sys­tem level. Personally, I pre­fer not us­ing sudo for npm.</p>
<p>Here is the main <a href="https://stackoverflow.com/questions/10081293/install-npm-into-home-directory-with-distribution-nodejs-package-ubuntu/13021677#13021677">ref­er­ence</a> on how to do this. For me, I did the fol­low­ing steps:</p>
<ol>
<li>Add <code>prefix=~/.npm-packages</code> to <code>~/.npmrc</code>.</li>
<li>Add the fol­low­ing lines to <code>~/.xprofile</code>:<pre><code class="hljs"><span class="hljs-comment"># Tell npm about the packages:</span>
<span class="hljs-built_in">export</span> NPM_PACKAGES=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.npm-packages"</span>
<span class="hljs-comment"># Tell Node.js about the packages:</span>
<span class="hljs-built_in">export</span> NODE_PATH=<span class="hljs-string">"<span class="hljs-variable">$NPM_PACKAGES</span>/lib/node_modules"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$NPM_PACKAGES</span>/bin:<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-built_in">export</span> MANPATH=<span class="hljs-string">"<span class="hljs-variable">$NPM_PACKAGES</span>/share/man:<span class="hljs-variable">$MANPATH</span>"</span>
</code></pre>
</li>
<li>Reboot so that the new en­vi­ron­ment vari­ables take ef­fect.</li>
<li>Download the npm mod­ule from <a href="https://docs.npmjs.com/getting-started/installing-node">here</a>.</li>
<li>Install npm us­ing the nor­mal way: <code>./configure</code>, <code>make</code>, and <code>make install</code>.</li>
</ol>
<p>Note that the en­vi­ron­ment vari­able set­tings and where to put them are spe­cific to my ma­chine. You might have to change them to fit in your sys­tem.</p>
]]></description><link>posts/npm-without-sudo</link><guid isPermaLink="true">posts/npm-without-sudo</guid></item><item><title><![CDATA[SDL2 Renderer Error]]></title><description><![CDATA[<p>Long story short, re­mem­ber to re­boot af­ter up­dat­ing the graph­ics dri­ver, es­pe­cially be­fore do­ing de­vel­op­ment in <span class="small-caps">SDL2</span>.</p>
<p>I have an <span class="small-caps">SDL2</span> demo pro­gram that worked well yes­ter­day, but it sud­denly stops work­ing to­day. <code>SDL_GetError()</code> shows an er­ror of<span class="push-double"></span> <span class="pull-double">“</span>Couldn’t find match­ing ren­der dri­ver” in <code>SDL_CreateRenderer()</code>. Online search­ing shows some sug­ges­tions about check­ing the graph­ics dri­ver. I did­n’t make any change in my graph­ics dri­ver to­day, did I? Well, let’s see. <code>pacman</code> log shows that I did up­date the nVIDIA dri­ver pack­age. After re­boot­ing, the demo pro­gram works again. I’m not sure why but up­dat­ing the dri­ver pack­age makes <span class="small-caps">SDL2</span> think that I don’t have a proper dri­ver that sup­ports hard­ware ac­cel­er­a­tion, al­though I’m us­ing my win­dow man­ager and other stuff just fine. Maybe this is a spe­cial one-time case, but I’ll just jot it down here for memo.</p>
]]></description><link>posts/sdl2-renderer-error</link><guid isPermaLink="true">posts/sdl2-renderer-error</guid></item><item><title><![CDATA[Upgrading Tex Live]]></title><description><![CDATA[<p>Here is a memo for up­grad­ing Tex Live.</p>
<p>It is the time of the year again&thinsp;&mdash;&thinsp;up­grad­ing Tex Live. Until we have a true rolling-re­leased Tex Live, up­grad­ing it will al­ways mean re­in­stalling it. Below are some tips and point­ers hop­ing to make the process less painful. Note that the memo is based on my per­sonal pref­er­ences, so please take with a grain of salt.</p>
<h3>Uninstall</h3>
<p>First things first. <code>tlmgr</code> can ac­tu­ally han­dle the unin­stal­la­tion with just one line:</p>
<pre><code class="hljs">tlmgr uninstall
</code></pre>
<p>There may be some left­over fold­ers here and there, but it should­n’t af­fect the re­in­stalling process.</p>
<h3>Install</h3>
<p>Download the <a href="https://www.tug.org/texlive/acquire-netinstall.html">in­stall script</a> <code>install-tl</code> and ex­e­cute it. Personally, I would start with the medium scheme and drop un­wanted col­lec­tions like var­i­ous lan­guages and util­i­ties. I should keep LuaTex. Also re­mem­ber to use let­ter size by de­fault.</p>
<h3>Post-install</h3>
<p>At the end of the script, it will men­tion that some en­vi­ron­ment vari­ables con­tain the string<span class="push-double"></span> <span class="pull-double">“</span>tex”. That is ex­pected since unin­stalling Tex Live will not change the en­vi­ron­ment vari­ables. Simply up­date the paths in <code>~/.bashrc</code> to con­tain the cor­rect Tex Live ver­sion.</p>
<h3>Additional Packages</h3>
<p>I also need some ad­di­tional pack­ages: <code>fontawesome</code>, <code>gillius</code>, <code>titlesec</code>, and <code>enumitem</code>. They can be in­stalled via:</p>
<pre><code class="hljs">tlmgr install &lt;package&gt;
</code></pre>
<h3>Test</h3>
<p>Test the newly in­stalled Tex Live through pre­vi­ously type­set doc­u­ments. Make sure that there is no er­ror and the out­put should be al­most iden­ti­cal as be­fore.</p>
]]></description><link>posts/upgrading-tex-live</link><guid isPermaLink="true">posts/upgrading-tex-live</guid></item><item><title><![CDATA[Icon Size in Xfce 4 Window Buttons]]></title><description><![CDATA[<p>I’ve just fig­ured out how to change the icon size for Xfce 4 win­dow but­tons in task list.</p>
<p>I’m us­ing the Arc Darker theme. I’ve con­fig­ured the task list to only show win­dow but­tons so that they take less space in the top-right cor­ner of the screen and play well with the ti­tle bar when a win­dow is max­i­mized. I al­ways feel that the icons in the win­dow but­tons are too small.</p>
<p>The key to solve this prob­lem is to fig­ure out which style is ap­plied to the win­dow but­tons. I know lit­tle about <span class="small-caps">GTK</span> themes, so here is my guess­ing and ob­ser­va­tions through trial and er­ror.</p>
<p>For the Arc Darker theme, the base theme file on my Arch Linux is</p>
<pre><code class="hljs">/usr/share/themes/Arc-Darker/gtk-2.0/gtkrc
</code></pre>
<p>Looking at the con­tent of the file, it in­cludes other theme files. One of them is <code>panel.rc</code>, which seems promis­ing.</p>
<p>At the end of <code>panel.rc</code>, there is a line that says</p>
<pre><code class="hljs">widget "*XfceTasklist*" style "panelbuttons"
</code></pre>
<p>I think this is what we need. Looking at the <code>panelButtons</code> style in the same file, <code>xthickness</code> is set to 4. I’m not ex­actly sure what this prop­erty means, but it seems that it is used for cal­cu­lat­ing var­i­ous padding spaces. I change it to 2, and the icons im­me­di­ately ap­pear larger af­ter switch­ing to an­other theme and back. The smaller that value is, the larger the icons will be.</p>
<p>This so­lu­tion has many draw­backs. For ex­am­ple, the mod­i­fi­ca­tion may be over­rid­den if I up­date the Arc theme pack­age. For now, that’s good enough for me.</p>
]]></description><link>posts/icon-size-in-xfce-4-window-buttons</link><guid isPermaLink="true">posts/icon-size-in-xfce-4-window-buttons</guid></item><item><title><![CDATA[bbm Font in TeX Live]]></title><description><![CDATA[<p>As a new­bie in LaTeX, I just found that bbm and bbm-macros pack­ages should be in­stalled to­gether.</p>
<p>I was try­ing to com­pile a LaTeX doc­u­ment us­ing a cus­tomized TeX Live 2016. There was an er­ror mes­sage about miss­ing <code>bbm.sty</code>. Naively, I thought in­stalling the bbm pack­age would solve the prob­lem. I tried, but the same er­ror mes­sage ap­peared again.</p>
<p>After search­ing around, I got a hint about the bbm-macros pack­age. I gave it a try by sim­ply in­stalling it, and it worked per­fectly. It seems that the bbm pack­age in­cludes the fonts, and the bbm-macros pack­age is for LaTeX sup­port.</p>
<p>Another les­son learned is about the search op­tions in TeX Live Manager. I was us­ing the fol­low­ing line to search for bbm-re­lated pack­ages af­ter in­stalling the bbm pack­age, and the re­sult only showed bbm.</p>
<pre><code class="hljs">tlmgr search bbm
</code></pre>
<p>Later I learned that this would only search for the <em>in­stalled</em> pack­ages. To also search for unin­stalled pack­ages, I should have used this:</p>
<pre><code class="hljs">tlmgr search bbm --global
</code></pre>
]]></description><link>posts/bbm-font-in-tex-live</link><guid isPermaLink="true">posts/bbm-font-in-tex-live</guid></item><item><title><![CDATA[LxRun Issue in Windows 10 Bash Shell]]></title><description><![CDATA[<p>I’ve just found a workaround for an is­sue of set­ting the de­fault user in Windows 10 Bash shell.</p>
<p>During in­stal­la­tion of Windows 10 Bash shell, there is a step to set or cre­ate the de­fault user. It’s equiv­a­lent to ex­e­cut­ing the fol­low­ing com­mand:</p>
<pre><code class="hljs">LxRun.exe /setdefaultuser &lt;username&gt;
</code></pre>
<p>If the Temp folder is not ac­ces­si­ble, ei­ther be­cause of priv­i­lege or un­sup­ported file sys­tems like <span class="small-caps">RAM</span> disk, an er­ror mes­sage will ap­pear:</p>
<pre><code class="hljs">/bin/bash: /mnt/d/TEMP/uid.txt: No such file or directory
</code></pre>
<p>Or</p>
<pre><code class="hljs">/bin/bash: /mnt/c/WINDOWS/TEMP/uid.txt: No such file or directory
</code></pre>
<p>The first er­ror mes­sage ap­pears when my Temp folder is on a <span class="small-caps">RAM</span> disk, and the sec­ond ap­pears when I’m us­ing the sys­tem-level Temp folder (<code>C:\Windows\Temp</code>).</p>
<p>The workaround is fairly sim­ple. Just move the Temp folder to some­where ac­ces­si­ble, such as <code>%USERPROFILE%\AppData\Local\Temp</code>.</p>
<p>By the way, I’ve sub­mit­ted an <a href="https://github.com/Microsoft/BashOnWindows/issues/752">is­sue</a> for this on GitHub.</p>
]]></description><link>posts/lxrun-issue-in-windows-10-bash-shell</link><guid isPermaLink="true">posts/lxrun-issue-in-windows-10-bash-shell</guid></item><item><title><![CDATA[Windows 10 on Acer 6935G]]></title><description><![CDATA[<p>Finally, I man­aged to up­grade to Windows 10 for my <em>8-year-old</em> lap­top. I know, I know, I’m ask­ing for trou­ble.</p>
<p>It all started with an er­ror mes­sage last year. Nowadays, I sel­dom use the lap­top as I have a much more pow­er­ful desk­top (which is, well, nearly 5 years old). But when I do, I up­grade the op­er­at­ing sys­tem. I thought that it would be a piece of cake like up­grad­ing to Windows 10 on my desk­top ma­chine, so I was shocked to see an er­ror mes­sage say­ing that my lap­top <span class="small-caps">CPU</span> was not sup­ported. No, no, no, lit­tle up­grade as­sis­tant, my Acer <span class="small-caps">6935G</span> has Intel Core 2 Duo <span class="small-caps">P8600</span> proces­sor, which has all the fea­tures you want. <span class="small-caps">PAE</span>, check. <span class="small-caps">SSE2</span>, check. <span class="small-caps">NX</span>, check. What else do you need? I searched all over the Internet, but I did­n’t find too much use­ful in­for­ma­tion, which was not a sur­prise con­sid­er­ing the age of my lap­top.</p>
<p>Frankly speak­ing, I was not very fas­ci­nated with Windows 10. Had I stopped right here, I would have much less trou­ble. However, I sim­ply did­n’t (or could­n’t). To me, this was a chal­leng­ing puz­zle and I re­ally en­joyed try­ing to solve it.</p>
<p>One piece of in­for­ma­tion did give me some in­spi­ra­tion, but it was also a trap, well, kind of. It said that <span class="small-caps">NX</span> could have been dis­abled by <span class="small-caps">BIOS</span>, and it might re­quire a <span class="small-caps">BIOS</span> up­date or hack to see the hid­den op­tions. I was not sur­prised at all to see that my<span class="push-double"></span> <span class="pull-double">“</span>up-to-date” <span class="small-caps">BIOS</span> did­n’t have that op­tion. Let’s try <span class="small-caps">BIOS</span> hack, I thought.</p>
<p>I was lucky to find an old <a href="https://www.bios-mods.com/forum/Thread-UNLOCKED-ACER-6935G">un­locked ver­sion</a> of my <span class="small-caps">BIOS</span>. I was ex­cited to see the hid­den menu for ad­vanced op­tions, but I did­n’t see an op­tion for <span class="small-caps">NX</span>. As a side find­ing, I saw the op­tion for VT-x. I turned it on, but <a href="https://www.grc.com/securable.htm">SecurAble</a> still showed<span class="push-double"></span> <span class="pull-double">“</span><span class="small-caps">NO</span><span class="push-double"></span><span class="pull-double">”</span> for hard­ware vir­tu­al­iza­tion. It seemed that the hid­den menu was un­cov­ered, but that op­tion for VT-x was not work­ing for some rea­son.</p>
<p>I kept look­ing for other un­locked ver­sions, but I did­n’t find any suit­able one. I even flashed a wrong im­age of <span class="small-caps">BIOS</span>. Guess what? My lap­top turned into a brick. Not sur­prised at all. Long story short: I had to tear apart the lap­top, des­ol­der the <span class="small-caps">BIOS</span> chip, re-pro­gram it, re-sol­der it, and then re­assem­ble the lap­top. Lessons learned: never flash a <span class="small-caps">BIOS</span> im­age if its size is dif­fer­ent than the of­fi­cial one.</p>
<p>A year passed by quickly. Recently, I came across <a href="https://marcan.st/2009/06/enabling-intel-vt-on-the-aspire-8930g/">this post</a>. It is talk­ing about en­abling VT-x on Acer <span class="small-caps">8930G</span>, which is a model very sim­i­lar to my <span class="small-caps">6935G</span>. I thought that a suc­cess in en­abling VT-x would be a good step to­wards <span class="small-caps">NX</span>, so I gave it a try. Basically, I dumped out the run­time <span class="small-caps">BIOS</span> us­ing an Ubuntu Live <span class="small-caps">USB</span> stick, used the script in that post to patch the im­age, and then flash it back (with size check­ing first, of course). This time SecurAble re­ports<span class="push-double"></span> <span class="pull-double">“</span><span class="small-caps">YES</span><span class="push-double"></span><span class="pull-double">”</span> for VT-x. Nice. Let’s see if we can turn on <span class="small-caps">NX</span>.</p>
<p>By the way, I launched Windows 10 up­grade pro­gram when­ever I made some changes, but it al­ways failed. Up till then, I had no luck.</p>
<p>I did­n’t ex­pect it when I came upon <a href="https://www.reddit.com/r/windows/comments/39ckik/cpu_not_compatible_with_windows_10_upgrade/cttcked">this post</a> dur­ing Internet search­ing. The post men­tions a Windows sys­tem set­ting that turns <em>off</em> <span class="small-caps">NX</span>. Guess which one? Surprise! It’s the <span class="small-caps">DEP</span> set­ting! I had seen that set­ting for a mil­lion times, but I never re­al­ized that it would af­fect <span class="small-caps">NX</span>. I was as­ton­ished to see that Windows 10 started to up­grade with­out er­rors af­ter this. What? Why? No! Yes!</p>
<p>Actually, that <span class="small-caps">DEP</span> set­ting might be the <em>only</em> step I need. Anyway, I did it.</p>
<p>Hopefully from my story, you can get some in­spi­ra­tion. Or amuse­ment.</p>
]]></description><link>posts/windows-10-on-acer-6935g</link><guid isPermaLink="true">posts/windows-10-on-acer-6935g</guid></item><item><title><![CDATA[Cleaning pacman Cache]]></title><description><![CDATA[<p>I just learned how to clean pac­man’s pack­age cache.</p>
<p>I came across this <a href="https://wiki.archlinux.org/index.php/pacman#Cleaning_the_package_cache">wiki page</a> when I was strug­gling with disk space the other day. It was then that I learned that pac­man would keep <em>all</em> ver­sions of down­loaded pack­ages, no mat­ter whether the pack­age is in­stalled or not. Cleaning the cache is easy:</p>
<pre><code class="hljs">paccache -r
</code></pre>
<p>This will re­move all cached ver­sions ex­cept the most re­cent 3. There are more ag­gres­sive op­tions as well men­tioned in that wiki page, such as:</p>
<pre><code class="hljs">pacman -Sc
</code></pre>
<p>This will keep only the lat­est ver­sion for cur­rently in­stalled pack­ages. Older ver­sions and unin­stalled pack­ages will be re­moved. Of course, this is not rec­om­mended. However, as a fun fact, I used that com­mand to re­gain over <span class="small-caps">22GB</span> disk space.</p>
]]></description><link>posts/cleaning-pacman-cache</link><guid isPermaLink="true">posts/cleaning-pacman-cache</guid></item><item><title><![CDATA[List-Unsubscribe URL in Header]]></title><description><![CDATA[<p>I just found that the list un­sub­scribe <span class="small-caps">URL</span> could be in the email header.</p>
<p>I was try­ing to un­sub­scribe from a mail­ing list that I knew, but I could­n’t find the un­sub­scribe but­ton or link in the email. I poked around and found the un­sub­scribe <span class="small-caps">URL</span> in the email header. I vis­ited that <span class="small-caps">URL</span> and it seemed to work well.</p>
<p>That be­ing said, I strongly rec­om­mend <em>not</em> click­ing on the un­sub­scribe link or but­ton from an email that you don’t know, be­cause the <span class="small-caps">URL</span> may be phish­ing you.</p>
<p>If you know the sender and re­ally need to un­cover the un­sub­scribe <span class="small-caps">URL</span>, you might want to dig into menu items like<span class="push-double"></span> <span class="pull-double">“</span>email prop­er­ties”,<span class="push-double"></span> <span class="pull-double">“</span>email de­tails”,<span class="push-double"></span> <span class="pull-double">“</span>show header”, etc.</p>
]]></description><link>posts/list-unsubscribe-url-in-header</link><guid isPermaLink="true">posts/list-unsubscribe-url-in-header</guid></item><item><title><![CDATA[Unzipping Chinese Filenames]]></title><description><![CDATA[<p>Unzipping a zip archive that has Chinese file­names in­side is tricky. I haven’t been able to find a per­fect so­lu­tion for quite a long time. Instead, I have to use a workaround. Recently, I came cross <a href="https://linuxtoy.org/archives/wrong-handling-of-chinese-coded-filename-in-fileroller-unzip.html">this post</a> which con­firms my find­ings.</p>
<p>Let’s talk about the is­sue first. Suppose I com­press a file with a Chinese file­name into a zip archive on the Windows plat­form. Now I want to ex­tract that file on Linux. The <code>unzip</code> tool used to work per­fectly with the <code>-O</code> op­tion, but one day I found that the op­tion was gone. Without that op­tion, the ex­tracted file will have a hu­man un­read­able file­name.</p>
<p>The is­sue is caused by en­cod­ing for sure. The workaround is sim­ple. Just find any un­zip­ping util­ity that sup­ports spec­i­fy­ing en­cod­ing. To me, the best workaround would be <a href="http://unarchiver.c3.cx/commandline">Unarchiver (unar)</a> which I found in <span class="small-caps">AUR</span> pre­vi­ously. It worked well even with­out spec­i­fy­ing en­cod­ing. The post men­tioned at the be­gin­ning con­firms this. In ad­di­tion, the com­ments un­der that post also sug­gests a patched ver­sion of <code>unzip</code>, namely <code>unzip-iconv</code>, which adds back the <code>-O</code> op­tion.</p>
]]></description><link>posts/unzipping-chinese-filenames</link><guid isPermaLink="true">posts/unzipping-chinese-filenames</guid></item><item><title><![CDATA[In-flight Texting Issue Solved]]></title><description><![CDATA[<p>I just found a tiny catch in send­ing in-flight Wi-Fi mes­sages, and luck­ily I fig­ured out what was wrong.</p>
<p>I was us­ing T-Mobile’s free in-flight tex­ting the other day, but it did­n’t work as be­fore. The progress bar on top of the iPhone stopped in the mid­dle and got stuck.</p>
<p>It took me a while to re­al­ize what was wrong. It was be­cause the text was sent as an iMes­sage, but the in-flight Wi-Fi tex­ting ac­tu­ally re­quired the text to be sent as a nor­mal <span class="small-caps">SMS</span>. I thought this switch­ing should have hap­pened au­to­mat­i­cally, but it did­n’t for some rea­son.</p>
<p>Solving this is­sue is also easy. Just long press the mes­sage bub­ble and choose<span class="push-double"></span> <span class="pull-double">“</span>Send as Text Message”. Or just turn off iMes­sage tem­porar­ily. However, turn­ing back on iMes­sage might take quite a while, ac­cord­ing to my test­ing.</p>
]]></description><link>posts/inflight-texting-issue-solved</link><guid isPermaLink="true">posts/inflight-texting-issue-solved</guid></item><item><title><![CDATA[Small Caps on Uppercase in CSS]]></title><description><![CDATA[<p>I just found out how to ap­ply small caps to up­per­case let­ters us­ing <span class="small-caps">CSS</span>.</p>
<p>As a new­bie in web de­sign and ty­pog­ra­phy, I was try­ing to ap­ply small caps to ab­bre­vi­a­tions in the texts. I knew the fol­low­ing code:</p>
<pre><code class="hljs"><span class="hljs-selector-class">.small-caps</span> {
    <span class="hljs-attribute">font-variant</span>: small-caps;
}
</code></pre>
<p>However, it did­n’t work for the ab­bre­vi­a­tions which are all up­per­case let­ters. I thought it was caused by the font since I could ap­ply small caps to the nav­i­ga­tion bar, but chang­ing the font for the texts was not help­ful. After some dig­ging around I found that I need to trans­form the up­per­case let­ters into low­er­case first. In other words, I need:</p>
<pre><code class="hljs"><span class="hljs-selector-class">.small-caps</span> {
    <span class="hljs-attribute">text-transform</span>: lowercase;
    <span class="hljs-attribute">font-variant</span>: small-caps;
}
</code></pre>
<p>By the way, I did­n’t use small caps on ab­bre­vi­a­tions in the end. It felt un­nat­ural. I think the best op­tion would be us­ing a na­tive small caps font in­stead, but a match­ing one has to be found first.</p>
]]></description><link>posts/small-caps-on-uppercase-in-css</link><guid isPermaLink="true">posts/small-caps-on-uppercase-in-css</guid></item><item><title><![CDATA[Inline SVG with Flex Layout]]></title><description><![CDATA[<p>Be care­ful in set­ting the width or height to<span class="push-double"></span> <span class="pull-double">“</span>auto” when us­ing in­line <span class="small-caps">SVG</span> in <span class="small-caps">HTML</span>.</p>
<p>I was us­ing an in­line <span class="small-caps">SVG</span> for the logo. I set the height to be a fixed value, and the width to be<span class="push-double"></span> <span class="pull-double">“</span>auto” hop­ing that it would scale prop­erly. I was also us­ing the flex lay­out with<span class="push-double"></span> <span class="pull-double">“</span>justify-content” set to<span class="push-double"></span> <span class="pull-double">“</span>space-between”. My in­ten­tion was to put the logo at the left-most po­si­tion within the header and the nav­i­ga­tion bar at right-most. However, dif­fer­ent browsers ren­der this dif­fer­ently. If I’m re­mem­ber­ing it cor­rectly, Chrome and Firefox be­haved cor­rectly while Safari and <span class="small-caps">IE</span> had some is­sues. In Safari and <span class="small-caps">IE</span>, the width of the logo was much larger. It looked like the logo was tak­ing up the space that was orig­i­nally the sep­a­ra­tor since the width was set to<span class="push-double"></span> <span class="pull-double">“</span>auto”.</p>
<p>It’s sim­ple to solve this is­sue. Just don’t use<span class="push-double"></span> <span class="pull-double">“</span>auto” and man­u­ally set the cor­rect width.</p>
<p>As al­ways, I’m new to web de­sign and I prob­a­bly saw this is­sue due to some bad de­sign prac­tice.</p>
]]></description><link>posts/inline-svg-with-flex-layout</link><guid isPermaLink="true">posts/inline-svg-with-flex-layout</guid></item><item><title><![CDATA[iframe Border Issue Solved]]></title><description><![CDATA[<p>iOS Safari ren­ders the iframe tag with an old-fash­ioned bor­der even though I set the dis­play prop­erty to<span class="push-double"></span> <span class="pull-double">“</span>none” on that iframe tag. It took me a while to re­al­ize what was miss­ing.</p>
<p>I was us­ing the <span class="small-caps">CSS</span> re­set tech­nique to make browsers ren­der my pages as con­sis­tent as pos­si­ble. I was just re­set­ting the prop­er­ties mar­gin, bor­der, padding, and font for all the tags I used. Guess what. I for­got the iframe tag there. The bor­der dis­ap­peared im­me­di­ately af­ter re­set­ting the iframe tag.</p>
<p>I’m not sure the in­ter­nal mech­a­nisms though. Maybe my case was spe­cial and I did­n’t re­al­ize other con­tribut­ing fac­tors. Nonetheless, you could try this if you run out of ideas in deal­ing with sim­i­lar is­sues.</p>
]]></description><link>posts/iframe-border-issue-solved</link><guid isPermaLink="true">posts/iframe-border-issue-solved</guid></item></channel></rss>