<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>Switching to Arch Linux TeX Live | zzpxyx</title>
    <link href="/styles/index.css" rel="stylesheet" type="text/css">
    <link href="/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
</head>

<body>
    <header>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 663.1 285.7" height="285.7" width="663.1"><a xlink:href="/"><g transform="translate(-25.511975,-321.65714)"><path d="m175.5 321.7c9.7 0 49.4 73.1 57.2 78.8 7.9 5.7 89.6 20.8 92.6 30.1 3 9.3-54.2 69.5-57.3 78.8-3 9.3 7.9 91.7 0 97.4-7.9 5.7-82.9-30.1-92.6-30.1-9.7 0-84.8 35.8-92.6 30.1-7.9-5.7 3-88.1 0-97.4-3-9.3-60.3-69.5-57.3-78.8 3-9.3 84.8-24.4 92.6-30.1 7.9-5.7 47.5-78.8 57.2-78.8z" fill="#ffd700"/></g><g transform="translate(-25.511975,-13.389405)"><g transform="translate(1.3749999,1.3136903)"><ellipse cx="210.6" cy="83.1" rx="50" ry="5" transform="matrix(0.96771018,0.2520655,-0.2520655,0.96771018,0,0)" fill="#ab9000"/><ellipse cx="143.3" cy="220.3" rx="62.5" ry="5" transform="matrix(0.98834239,-0.15224756,0.15224756,0.98834239,0,0)" fill="#ab9000"/><ellipse cx="-8.1" cy="245.3" rx="65" ry="5" transform="matrix(0.68101698,-0.73226762,0.73226762,0.68101698,0,0)" fill="#ab9000"/></g></g></a><g transform="translate(-25.511975,-13.389405)"><g transform="translate(5.071405,-0.27101697)"><ellipse transform="matrix(0.96771018,0.2520655,-0.2520655,0.96771018,0,0)" ry="5" rx="50" cy="59.2" cx="308.7" fill="#ab9000"/><ellipse transform="matrix(0.98834239,-0.15224756,0.15224756,0.98834239,0,0)" ry="5" rx="62.5" cy="237.3" cx="242.8" fill="#ab9000"/><ellipse transform="matrix(0.68101698,-0.73226762,0.73226762,0.68101698,0,0)" ry="5" rx="65" cy="320.3" cx="59.5" fill="#ab9000"/></g><g transform="translate(-2.169664,-0.75002566)"><ellipse cx="187" cy="-355.3" rx="65" ry="5" transform="matrix(0,1,-1,0,0,0)" fill="#ab9000"/><ellipse cx="187.3" cy="380" rx="50" ry="5" transform="matrix(0.78566611,-0.61865076,0.61865076,0.78566611,0,0)" fill="#ab9000"/><ellipse cx="409.2" cy="-17.2" rx="50" ry="5" transform="matrix(0.91986697,0.39223049,-0.39223049,0.91986697,0,0)" fill="#ab9000"/></g><g transform="translate(-1.276983,1.9406717)"><ellipse cx="212.3" cy="444.8" rx="62.5" ry="5" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)" fill="#ab9000"/><ellipse cx="443.8" cy="-212.3" rx="62.5" ry="5" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)" fill="#ab9000"/></g><g transform="translate(-8.29443,0.54549096)"><ellipse cx="344.2" cy="578.7" rx="62.5" ry="5" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)" fill="#ab9000"/><ellipse cx="577.7" cy="-344.3" rx="62.5" ry="5" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)" fill="#ab9000"/></g><g transform="translate(-5.664069,-0.99532167)"><ellipse cx="412.1" cy="-391.1" rx="45" ry="5" transform="matrix(0.5,0.8660254,-0.8660254,0.5,0,0)" fill="#ab9000"/><ellipse cx="117.2" cy="578.1" rx="75" ry="5" transform="matrix(0.5,-0.8660254,0.8660254,0.5,0,0)" fill="#ab9000"/></g></g></svg>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/archive/">Archive</a></li>
                <li><a href="/projects/">Projects</a></li>
                <li><a href="/rss.xml">RSS</a></li>
                <li><a href="/about/">About</a></li>
            </ul>
        </nav>
    </header>
    <article>
        <h2>Switching to Arch Linux TeX Live</h2>
        <h6>
            Published <time>2020-01-05</time>
            | <a href="javascript:history.back()">Go Back</a>
        </h6>
        <p>I’ve just switched my TeX Live dis­tri­b­u­tion from the of­fi­cial one to the one on the Arch Linux repos­i­tory.</p>
<p>I was just up­dat­ing the pack­ages rou­tinely on Arch Linux, and I no­ticed that Texmaker now re­quires <code>texlive-core</code>, which in turn re­quires <code>texlive-bin</code>. This was prob­lem­atic for me since I had al­ready in­stalled the of­fi­cial TeX Live dis­tri­b­u­tion. This not only took more disk space, but also broke the func­tion­al­ity. For ex­am­ple, I was no longer able to com­pile my re­sume. My guess was that the new in­stall some­how af­fected the TeX Live file tree and some style files were con­sid­ered miss­ing.</p>
<p>Up to this point, I had two op­tions. I could unin­stall Texmaker and its TeX Live de­pen­den­cies, then re­in­stall Texmaker from an­other source and use it with the ex­ist­ing of­fi­cial TeX Live dis­tri­b­u­tion on my ma­chine. Alternatively, I could unin­stall the of­fi­cial dis­tri­b­u­tion and switch to the Arch Linux pack­aged ver­sion of TeX Live. Either op­tion should work. I was just cu­ri­ous about the lat­ter op­tion, so I chose to give it a try. In ad­di­tion, I had al­ready changed my re­sume tem­plate to <a href="https://github.com/zzpxyx/two-column-resume">my cus­tom one</a> long time ago, and it no longer needed un­of­fi­cial fonts or stuff, so switch­ing to an­other TeX Live dis­tri­b­u­tion would only re­quire in­stalling miss­ing <span class="small-caps">CTAN</span> pack­ages.</p>
<p>First of all, I unin­stalled the of­fi­cial dis­tri­b­u­tion by:</p>
<pre><code class="hljs language-shell">tlmgr uninstall --all
</code></pre>
<p>There were some er­rors about write per­mis­sion, but I did some quick check and the er­rors seemed be­nign. Then I in­stalled <code>texlive-latexextra</code> for some com­monly used LaTeX pack­ages. After that, I tried to com­pile my re­sume and saw that some fonts were miss­ing as ex­pected. A quick search showed that I should in­stall <code>texlive-fontsextra</code>. It would take over 1 <span class="small-caps">GB</span> of disk space since it in­cluded tons of fonts. I’m not a fan of this, so I chose to use <a href="https://wiki.archlinux.org/index.php/TeX_Live#tllocalmgr">tl­lo­calmgr</a> to man­u­ally in­stall miss­ing <span class="small-caps">CTAN</span> pack­ages. After some trial and er­ror, I ended up with in­stalling these <span class="small-caps">CTAN</span> pack­ages: <code>raleway</code>, <code>mweights</code>, <code>droid</code>, <code>fontawesome</code>, and <code>ly1</code>. However, no <span class="small-caps">PDF</span> file was gen­er­ated at the end of com­pile, and Texmaker did­n’t re­port any ob­vi­ous er­ror. The log did show that some fonts were miss­ing. <code>tllocalmgr</code> men­tioned that I should check its log and mod­ify the <code>updmap.cfg</code> file as needed. After some trial and er­ror again, I found that I would need to add the font maps like be­low for the fonts men­tioned in the <code>tllocalmgr</code> log file.</p>
<pre><code class="hljs language-shell">updmap-sys --enable Map=Raleway.map
updmap-sys --enable Map=droidsans.map
updmap-sys --enable Map=droidsansmono.map
updmap-sys --enable Map=droidserif.map
updmap-sys --enable Map=fontawesome.map
</code></pre>
<p>I’m still a new­bie for TeX Live, so what I did here may not be the best prac­tice. After that, the com­pile worked and gen­er­ated a <span class="small-caps">PDF</span> file.</p>
<p>I used <a href="https://pypi.org/project/diff-pdf-visually/">diff-pdf-vi­su­ally</a> to com­pare the two <span class="small-caps">PDF</span> files from the two TeX Live dis­tri­b­u­tions, and the tool re­ported no vi­sual dif­fer­ence. I would take this as a sign of vic­tory. If I’m un­der­stand­ing it cor­rectly, I would no long need to up­grade TeX Live like <a href="../upgrading-tex-live">my pre­vi­ous post</a>.</p>

    </article>
    <footer>
        <div class="float-left"><a href="/posts/compile-applescript-for-performace/">&laquo; Compile AppleScript for Performance</a></div>
        <div class="float-right"><a href="/posts/reviving-an-old-mp3-player/">Reviving an Old MP3 Player &raquo;</a></div>
    </footer>
</body>

</html>
