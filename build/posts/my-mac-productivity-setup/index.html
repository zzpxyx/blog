<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>My Mac Productivity Setup | zzpxyx</title>
    <link href="/styles/index.css" rel="stylesheet" type="text/css">
    <link href="/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
</head>

<body>
    <header>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 663.1 285.7" height="285.7" width="663.1"><a xlink:href="/"><g transform="translate(-25.511975,-321.65714)"><path d="m175.5 321.7c9.7 0 49.4 73.1 57.2 78.8 7.9 5.7 89.6 20.8 92.6 30.1 3 9.3-54.2 69.5-57.3 78.8-3 9.3 7.9 91.7 0 97.4-7.9 5.7-82.9-30.1-92.6-30.1-9.7 0-84.8 35.8-92.6 30.1-7.9-5.7 3-88.1 0-97.4-3-9.3-60.3-69.5-57.3-78.8 3-9.3 84.8-24.4 92.6-30.1 7.9-5.7 47.5-78.8 57.2-78.8z" fill="#ffd700"/></g><g transform="translate(-25.511975,-13.389405)"><g transform="translate(1.3749999,1.3136903)"><ellipse cx="210.6" cy="83.1" rx="50" ry="5" transform="matrix(0.96771018,0.2520655,-0.2520655,0.96771018,0,0)" fill="#ab9000"/><ellipse cx="143.3" cy="220.3" rx="62.5" ry="5" transform="matrix(0.98834239,-0.15224756,0.15224756,0.98834239,0,0)" fill="#ab9000"/><ellipse cx="-8.1" cy="245.3" rx="65" ry="5" transform="matrix(0.68101698,-0.73226762,0.73226762,0.68101698,0,0)" fill="#ab9000"/></g></g></a><g transform="translate(-25.511975,-13.389405)"><g transform="translate(5.071405,-0.27101697)"><ellipse transform="matrix(0.96771018,0.2520655,-0.2520655,0.96771018,0,0)" ry="5" rx="50" cy="59.2" cx="308.7" fill="#ab9000"/><ellipse transform="matrix(0.98834239,-0.15224756,0.15224756,0.98834239,0,0)" ry="5" rx="62.5" cy="237.3" cx="242.8" fill="#ab9000"/><ellipse transform="matrix(0.68101698,-0.73226762,0.73226762,0.68101698,0,0)" ry="5" rx="65" cy="320.3" cx="59.5" fill="#ab9000"/></g><g transform="translate(-2.169664,-0.75002566)"><ellipse cx="187" cy="-355.3" rx="65" ry="5" transform="matrix(0,1,-1,0,0,0)" fill="#ab9000"/><ellipse cx="187.3" cy="380" rx="50" ry="5" transform="matrix(0.78566611,-0.61865076,0.61865076,0.78566611,0,0)" fill="#ab9000"/><ellipse cx="409.2" cy="-17.2" rx="50" ry="5" transform="matrix(0.91986697,0.39223049,-0.39223049,0.91986697,0,0)" fill="#ab9000"/></g><g transform="translate(-1.276983,1.9406717)"><ellipse cx="212.3" cy="444.8" rx="62.5" ry="5" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)" fill="#ab9000"/><ellipse cx="443.8" cy="-212.3" rx="62.5" ry="5" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)" fill="#ab9000"/></g><g transform="translate(-8.29443,0.54549096)"><ellipse cx="344.2" cy="578.7" rx="62.5" ry="5" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)" fill="#ab9000"/><ellipse cx="577.7" cy="-344.3" rx="62.5" ry="5" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)" fill="#ab9000"/></g><g transform="translate(-5.664069,-0.99532167)"><ellipse cx="412.1" cy="-391.1" rx="45" ry="5" transform="matrix(0.5,0.8660254,-0.8660254,0.5,0,0)" fill="#ab9000"/><ellipse cx="117.2" cy="578.1" rx="75" ry="5" transform="matrix(0.5,-0.8660254,0.8660254,0.5,0,0)" fill="#ab9000"/></g></g></svg>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/archive/">Archive</a></li>
                <li><a href="/projects/">Projects</a></li>
                <li><a href="/rss.xml">RSS</a></li>
                <li><a href="/about/">About</a></li>
            </ul>
        </nav>
    </header>
    <article>
        <h2>My Mac Productivity Setup</h2>
        <h6>
            Published <time>2021-07-07</time>
            | <a href="javascript:history.back()">Go Back</a>
        </h6>
        <p>Here is my productivity setup on a Mac. It is just a personal memo, not an endorsement or an advertisement.</p>
<h3>Tools and Apps</h3>
<p>Here is a brief list of some productivity tools. Further sections will discuss combining them to achieve powerful workflows and setups.</p>
<ul>
<li><a href="https://github.com/timche/gmail-desktop">Gmail Desktop</a>: a third-party Gmail client.</li>
<li><a href="https://github.com/rxhanson/Rectangle">Rectangle</a>: resize windows using keyboard shortcuts.</li>
<li><a href="https://github.com/pqrs-org/Karabiner-Elements">Karabiner-Elements</a>: keyboard customization, especially useful for remapping keys and define global hotkeys.</li>
<li><a href="https://github.com/swiftbar/SwiftBar">SwiftBar</a>: menu bar customization tool, similar to <a href="https://github.com/matryer/xbar">BitBar</a>.</li>
<li><a href="https://github.com/archagon/sensible-side-buttons">SensibleSideButtons</a>: enable system-wide navigation for mouse side buttons.</li>
<li><a href="https://github.com/glushchenko/fsnotes">FSNotes</a>: notes manager, similar to <a href="https://notational.net/">Notational Velocity</a> and <a href="https://brettterpstra.com/projects/nvalt/">nvALT</a>.</li>
<li><a href="https://github.com/Mortennn/Dozer">Dozer</a>: hide menu bar icons.</li>
<li><a href="https://github.com/Clipy/Clipy">Clipy</a>: clipboard manager.</li>
<li><a href="https://github.com/Caldis/Mos">Mos</a>: smooth scrolling.</li>
<li><a href="https://github.com/sfsam/Itsycal">Itsycal</a>: menu bar calendar.</li>
</ul>
<h3>Notes and Todo List (and CPU Temperature)</h3>
<p>I use FSNotes for all my notes, including a special text file named <code>Todo.txt</code>. This file is a list of my todo tasks. I’ve written a simple SwiftBar plugin to show the number of lines in that file, indicating how many tasks are unfinished. If the plugin refreshes every 15 seconds, why not let it collect other data as well? So the actual plugin I use also captures the CPU temperature through <a href="https://github.com/Chris911/iStats">iStats</a>. The plugin looks like this:</p>
<pre><code class="hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-built_in">export</span> GEM_HOME=~/.gem
temp=$(<span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%.0f&quot;</span> `<span class="hljs-variable">$GEM_HOME</span>/bin/istats cpu temp --value-only`)
speed=$(<span class="hljs-variable">$GEM_HOME</span>/bin/istats fan speed --no-graphs --no-labels | <span class="hljs-built_in">head</span> -n 1)

unread=`awk <span class="hljs-string">&#x27;END{print NR}&#x27;</span> ~/path/to/Todo.txt`
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$unread</span> -gt 0 ]
<span class="hljs-keyword">then</span>
    todo=<span class="hljs-string">&quot;:checkmark.square: <span class="hljs-variable">$unread</span>&quot;</span>
<span class="hljs-keyword">else</span>
    todo=<span class="hljs-string">&quot;:checkmark.seal:&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;:cpu: <span class="hljs-variable">$temp</span>\xc2\xb0C    <span class="hljs-variable">$todo</span>&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;---&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$speed</span>
</code></pre>
<p>Note that those colon-wrapped words like <code>:checkmark.square:</code> are referring to <a href="https://developer.apple.com/sf-symbols/">SF Symbols</a>, as mentioned in SwiftBar <a href="https://github.com/swiftbar/SwiftBar#parameters">documentation</a>.</p>
<h3>Global Hotkeys</h3>
<p>I like to define some global hotkeys so that I can switch to specific applications quickly. For example, I want to press Command+3 to switch to Gmail Desktop. I didn’t find a good open source app to set global hotkeys on a Mac, so I used AppleScript and Karabiner-Elements as a workaround.</p>
<p>First of all, I use the following script to show and hide a specific application. Note that it will launch the application if it’s not already launched.</p>
<pre><code class="hljs language-AppleScript"><span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">&quot;System Events&quot;</span>
    <span class="hljs-keyword">set</span> names <span class="hljs-keyword">to</span> <span class="hljs-built_in">name</span> <span class="hljs-keyword">of</span> <span class="hljs-built_in">application</span> processes
    <span class="hljs-keyword">if</span> names <span class="hljs-keyword">contains</span> <span class="hljs-string">&quot;Gmail Desktop&quot;</span> <span class="hljs-keyword">then</span>
        <span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> process <span class="hljs-string">&quot;Gmail Desktop&quot;</span>
            <span class="hljs-keyword">if</span> <span class="hljs-built_in">frontmost</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">then</span>
                <span class="hljs-keyword">set</span> visible <span class="hljs-keyword">to</span> <span class="hljs-literal">false</span>
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">&quot;Gmail Desktop&quot;</span> <span class="hljs-keyword">to</span> <span class="hljs-built_in">activate</span>
            <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>
        <span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
    <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">&quot;Gmail Desktop&quot;</span> <span class="hljs-keyword">to</span> <span class="hljs-built_in">activate</span>
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>
<span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
</code></pre>
<p>Then I define some “<a href="https://karabiner-elements.pqrs.org/docs/manual/configuration/configure-complex-modifications/">complex rules</a>“ in Karabiner-Elements:</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Global Hotkey&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;rules&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Global hotkeys to launch applications&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;manipulators&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;basic&quot;</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">&quot;from&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                        <span class="hljs-attr">&quot;key_code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3&quot;</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">&quot;modifiers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                            <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                                <span class="hljs-string">&quot;command&quot;</span>
                            <span class="hljs-punctuation">]</span>
                        <span class="hljs-punctuation">}</span>
                    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">&quot;to&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                        <span class="hljs-punctuation">{</span>
                            <span class="hljs-attr">&quot;shell_command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;osascript ~/path/to/above.scpt&quot;</span>
                        <span class="hljs-punctuation">}</span>
                    <span class="hljs-punctuation">]</span>
                <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Note that the script file here is the compiled one, as <a href="/posts/compile-applescript-for-performace">mentioned previously</a>.</p>

    </article>
    <footer>
        <div class="float-left"><a href="/posts/downgrading-kernel/">&laquo; Downgrading Arch Linux Kernel</a></div>
        <div class="float-right"><a href="/posts/converting-markdown-files/">Converting Markdown Files &raquo;</a></div>
    </footer>
</body>

</html>
